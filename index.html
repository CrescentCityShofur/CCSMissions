<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>CCS Mission Hub | Crescent City Shofur</title>
    <script src="https://js.stripe.com/v3/"></script>
    <script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyBw-x8f7_2Z9m-H3k1Lq5p6o7n8m9l0k&libraries=places&callback=initMap" async defer></script>
    <style>
        /* Your Gold Shimmer CSS remains here */
        body { background: #0a0a0a; color: #d4af37; font-family: serif; }
        .shimmer { background: linear-gradient(90deg, #d4af37, #f7ef8a, #d4af37); -webkit-background-clip: text; color: transparent; }
    </style>
</head>
<body>
    <h1 class="shimmer">CCS MISSION HUB</h1>
    <input id="stakeholderEmail" type="email" placeholder="Stakeholder Email">
    <div id="priceOutput">$0.00</div>
    <button onclick="dispatchMission()">AUTHORIZE MISSION</button>

    <script>
    const stripe = Stripe('pk_live_51Sub4u00aruvjmQ2mvXyX7v3YFY11LEMViffvxVJ4rYQ03MyatLbE640LKBAZZnrji9z6RKB4irBb0MTdpTRrcXmW00Lhx0XJ2v');

    async function dispatchMission() {
        const priceText = document.getElementById('priceOutput').innerText;
        const amountInCents = Math.round(parseFloat(priceText.replace('$', '')) * 100);
        const email = document.getElementById('stakeholderEmail').value;

        const { error } = await stripe.redirectToCheckout({
            lineItems: [{
                price_data: {
                    currency: 'usd',
                    product_data: {
                        name: 'CCS MISSION AUTHORIZATION',
                        description: 'Authorizing a mission fuels a stronger Gulf South. Every ride is a building block for CCS, funding a resilient regional corridor.',
                    },
                    unit_amount: amountInCents,
                },
                quantity: 1,
            }],
            mode: 'payment',
            successUrl: 'https://ccsmissions.com?success=true',
            cancelUrl: 'https://ccsmissions.com',
            customerEmail: email,
        });
        if (error) alert(error.message);
    }
    </script>
</body>
</html>
